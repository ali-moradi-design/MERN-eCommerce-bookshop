(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"n",(function(){return a})),n.d(t,"l",(function(){return c})),n.d(t,"o",(function(){return i})),n.d(t,"q",(function(){return s})),n.d(t,"r",(function(){return o})),n.d(t,"p",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return b})),n.d(t,"u",(function(){return p})),n.d(t,"w",(function(){return m})),n.d(t,"t",(function(){return h})),n.d(t,"v",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return f})),n.d(t,"h",(function(){return x})),n.d(t,"j",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return S})),n.d(t,"x",(function(){return E})),n.d(t,"z",(function(){return I})),n.d(t,"s",(function(){return C})),n.d(t,"y",(function(){return k}));var r="USER_LOGIN_REQUEST",a="USER_LOGIN_SUCCESS",c="USER_LOGIN_FAIL",i="USER_LOGOUT",s="USER_REGISTER_REQUEST",o="USER_REGISTER_SUCCESS",d="USER_REGISTER_FAIL",l="USER_DETAILS_REQUEST",u="USER_DETAILS_SUCCESS",j="USER_DETAILS_FAIL",b="USER_DETAILS_RESET",p="USER_UPDATE_PROFILE_REQUEST",m="USER_UPDATE_PROFILE_SUCCESS",h="USER_UPDATE_PROFILE_FAIL",O="USER_UPDATE_PROFILE_RESET",g="USER_LIST_REQUEST",f="USER_LIST_SUCCESS",x="USER_LIST_FAIL",y="USER_LIST_RESET",v="USER_DELETE_REQUEST",w="USER_DELETE_SUCCESS",S="USER_DELETE_FAIL",E="USER_UPDATE_REQUEST",I="USER_UPDATE_SUCCESS",C="USER_UPDATE_FAIL",k="USER_UPDATE_RESET"},14:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return d})),n.d(t,"t",(function(){return l})),n.d(t,"v",(function(){return u})),n.d(t,"s",(function(){return j})),n.d(t,"u",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"p",(function(){return m})),n.d(t,"m",(function(){return h})),n.d(t,"o",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return f})),n.d(t,"l",(function(){return x})),n.d(t,"f",(function(){return y})),n.d(t,"h",(function(){return v})),n.d(t,"e",(function(){return w})),n.d(t,"g",(function(){return S}));var r="ORDER_CREATE_REQUEST",a="ORDER_CREATE_SUCCESS",c="ORDER_CREATE_FAIL",i="ORDER_CREATE_RESET",s="ORDER_DETAILS_REQUEST",o="ORDER_DETAILS_SUCCESS",d="ORDER_DETAILS_FAIL",l="ORDER_PAY_REQUEST",u="ORDER_PAY_SUCCESS",j="ORDER_PAY_FAIL",b="ORDER_PAY_RESET",p="ORDER_LIST_MY_REQUEST",m="ORDER_LIST_MY_SUCCESS",h="ORDER_LIST_MY_FAIL",O="ORDER_LIST_MY_RESET",g="ORDER_LIST_REQUEST",f="ORDER_LIST_SUCCESS",x="ORDER_LIST_FAIL",y="ORDER_DELIVER_REQUEST",v="ORDER_DELIVER_SUCCESS",w="ORDER_DELIVER_FAIL",S="ORDER_DELIVER_RESET"},145:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return $}));var r=n(11),a=n(19),c=n(7),i=n(0),s=n.n(i),o=n(28),d=n(12),l=n(8),u=n(229),j=n(230),b=n(150),p=n.n(b),m=n(227),h=n(125),O=n(231),g=n(161),f=n(60),x=n(232),y=n(124),v=n(149),w=n.n(v),S=n(228),E=n(61),I=n(57),C=n(166),k=n(70),R=n(78),T=n(146),_=n(162),D=n(121),A=n.n(D),P=n(148),U=n.n(P),L=n(167),N=n(164),F=n(165),W=n(122),B=n.n(W),z=n(21),V=n(1);function q(e){var t=e.children,n=Object(m.a)({disableHysteresis:!0,threshold:0});return s.a.cloneElement(t,{elevation:n?4:0})}var M=Object(h.a)((function(e){var t,n;return{toolbarMargin:Object(c.a)(Object(c.a)({},e.mixins.toolbar),{},(t={marginBottom:"1em"},Object(a.a)(t,e.breakpoints.down("md"),{marginBottom:"0.8em"}),Object(a.a)(t,e.breakpoints.down("xs"),{marginBottom:"0.6em"}),t)),logo:(n={height:"8em",textTransform:"none"},Object(a.a)(n,e.breakpoints.down("md"),{height:"7em"}),Object(a.a)(n,e.breakpoints.down("xs"),{height:"5.5em"}),n),logoContainer:{color:"#fff",padding:0,"&:hover":{backgroundColor:"transparent"}},tabContainer:{marginLeft:"auto"},tab:Object(c.a)(Object(c.a)({},e.typography.tab),{},{minWidth:10,marginLeft:"25px"}),button:Object(c.a)(Object(c.a)({},e.typography.estimate),{},{marginLeft:"50px",marginRight:"25px"}),menu:{backgroundColor:"#ebda44",color:"#f4f4f4",borderRadius:"5px",zIndex:1302},menuItem:Object(c.a)(Object(c.a)({},e.typography.tab),{},{color:"#000","&:hover":{opacity:1}}),drawerIcon:{color:"#fff",height:"50px",width:"50px"},drawerIconContainer:{marginLeft:"auto","&:hover":{backgroundColor:"transparent"}},drawer:{backgroundColor:e.palette.common.red},drawerItem:Object(c.a)(Object(c.a)({},e.typography.tab),{},{color:"white",padding:"0 2rem",opacity:1}),drawerItemSelected:{"& .MuiListItemText-root":{opacity:1}},appbar:{zIndex:e.zIndex.modal+1},logout:{marginLeft:"1rem"},expansion:{backgroundColor:e.palette.common.red,borderBottom:"1px solid rgba(0, 0, 0, 0.12)","&.Mui-expanded":{margin:0,borderBottom:0},"&::before":{backgroundColor:"rgba(0, 0, 0, 0)"}},expansionDetails:{padding:0,backgroundColor:e.palette.common.orange},expansionSummary:{padding:"0 24px 0 16px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}}}));function $(t){var n=M(t),a=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),b=Object(l.b)(),m=Object(l.c)((function(e){return e.userLogin})).userInfo,h=Object(i.useState)(!1),v=Object(r.a)(h,2),D=v[0],P=v[1],W=function(){b(Object(z.e)())},$=t.value,Q=t.setValue;Object(i.useEffect)((function(){"/"===window.location.pathname&&0!==$?Q(0):"/cart"===window.location.pathname&&1!==$&&Q(1)}),[$,Q]);var G=Object(V.jsxs)(s.a.Fragment,{children:[Object(V.jsx)(o.a,{render:function(e){var n=e.history;return Object(V.jsx)(T.a,Object(c.a)(Object(c.a)({},t),{},{history:n}))}}),Object(V.jsxs)(O.a,{value:t.value,onChange:function(e,n){t.setValue(n)},indicatorColor:"secondary",children:[Object(V.jsx)(g.a,{label:"HOME",component:d.b,to:"/",className:n.tab}),Object(V.jsx)(g.a,{label:"CART",component:d.b,to:"/cart",className:n.tab})]}),m?Object(V.jsxs)(_.a,{"aria-label":"outlined secondary button group",className:n.logout,children:[Object(V.jsxs)(f.a,{variant:"contained",onClick:W,children:[Object(V.jsx)(U.a,{}),"LOGOUT"]}),Object(V.jsxs)(f.a,{component:d.b,to:"/profile",variant:"contained",className:n.button,children:[Object(V.jsx)(A.a,{}),m.name]})]}):Object(V.jsxs)(f.a,{component:d.b,to:"/login",variant:"contained",className:n.button,children:[Object(V.jsx)(A.a,{}),"Sign In"]}),m&&m.isAdmin&&Object(V.jsxs)(_.a,{variant:"contained","aria-label":"outlined secondary button group",children:[Object(V.jsx)(f.a,{component:d.b,to:"/admin/userlist",children:"Users"}),Object(V.jsx)(f.a,{component:d.b,to:"/admin/productlist",children:"Products"}),Object(V.jsx)(f.a,{component:d.b,to:"/admin/orderlist",children:"Orders"})]})]}),Y=Object(V.jsxs)(s.a.Fragment,{children:[Object(V.jsxs)(x.a,{disableBackdropTransition:!a,disableDiscovery:a,open:D,onClose:function(){return P(!1)},onOpen:function(){return P(!0)},classes:{paper:n.drawer},children:[Object(V.jsx)("div",{className:n.toolbarMargin}),Object(V.jsxs)(S.a,{disablePadding:!0,children:[Object(V.jsx)(E.a,{classes:{selected:n.drawerItemSelected},selected:0===t.value,onClick:function(){P(!1),t.setValue(0)},divider:!0,button:!0,component:d.b,to:"/",children:Object(V.jsx)(I.a,{className:n.drawerItem,disableTypography:!0,children:"HOME"})}),Object(V.jsx)(E.a,{classes:{selected:n.drawerItemSelected},selected:1===t.value,onClick:function(){P(!1),t.setValue(1)},divider:!0,button:!0,component:d.b,to:"/cart",children:Object(V.jsx)(I.a,{className:n.drawerItem,disableTypography:!0,children:"CART"})}),m?Object(V.jsxs)(L.a,{elevation:0,classes:{root:n.expansion},children:[Object(V.jsx)(N.a,{classes:{root:n.expansionSummary},expandIcon:Object(V.jsx)(B.a,{color:"secondary"}),children:Object(V.jsx)(I.a,{className:n.drawerItem,disableTypography:!0,children:"Profile"})}),Object(V.jsx)(F.a,{classes:{root:n.expansionDetails},children:Object(V.jsx)(k.a,{container:!0,direction:"column",children:Object(V.jsxs)(k.a,{item:!0,children:[Object(V.jsx)(E.a,{divider:!0,button:!0,component:d.b,to:"/profile",classes:{selected:n.drawerItemSelected},onClick:function(){P(!1)},children:Object(V.jsxs)(I.a,{className:n.drawerItem,disableTypography:!0,children:[m.name," "]})}),Object(V.jsx)(E.a,{onClick:function(){P(!1),W()},divider:!0,button:!0,children:Object(V.jsx)(I.a,{className:n.drawerItem,disableTypography:!0,children:"logout"})})]})})})]}):Object(V.jsx)(E.a,{selected:0===t.value,onClick:function(){P(!1),t.setValue(0)},divider:!0,button:!0,component:d.b,to:"/login",children:Object(V.jsx)(I.a,{className:n.drawerItem,disableTypography:!0,children:"Sign In"})}),m&&m.isAdmin&&Object(V.jsxs)(L.a,{elevation:0,classes:{root:n.expansion},children:[Object(V.jsx)(N.a,{classes:{root:n.expansionSummary},expandIcon:Object(V.jsx)(B.a,{color:"secondary"}),children:Object(V.jsx)(I.a,{className:n.drawerItem,disableTypography:!0,children:"Admin"})}),Object(V.jsx)(F.a,{classes:{root:n.expansionDetails},children:Object(V.jsx)(k.a,{container:!0,direction:"column",children:Object(V.jsxs)(k.a,{item:!0,children:[Object(V.jsx)(E.a,{divider:!0,button:!0,component:d.b,to:"/admin/userlist",classes:{selected:n.drawerItemSelected},onClick:function(){P(!1)},children:Object(V.jsx)(I.a,{className:n.drawerItem,disableTypography:!0,children:"Users"})}),Object(V.jsx)(E.a,{divider:!0,button:!0,component:d.b,to:"/admin/productlist",classes:{selected:n.drawerItemSelected},onClick:function(){P(!1)},children:Object(V.jsx)(I.a,{className:n.drawerItem,disableTypography:!0,children:"Products"})}),Object(V.jsx)(E.a,{divider:!0,button:!0,component:d.b,to:"/admin/orderlist",classes:{selected:n.drawerItemSelected},onClick:function(){P(!1)},children:Object(V.jsx)(I.a,{className:n.drawerItem,disableTypography:!0,children:"Orders"})})]})})})]})]})]}),Object(V.jsx)(y.a,{className:n.drawerIconContainer,onClick:function(){return P(!D)},disableRipple:!0,children:Object(V.jsx)(w.a,{className:n.drawerIcon})})]});return Object(V.jsxs)(s.a.Fragment,{children:[Object(V.jsx)(q,{children:Object(V.jsx)(u.a,{position:"fixed",className:n.appbar,children:Object(V.jsxs)(j.a,{children:[Object(V.jsx)(f.a,{component:d.b,to:"/",disableRipple:!0,onClick:function(){return t.setValue(0)},className:n.logoContainer,style:{textDecoration:"none"},children:Object(V.jsxs)(k.a,{container:!0,alignItems:"center",children:[Object(V.jsx)(k.a,{item:!0,style:{marginRight:"0.8rem",marginTop:"0.3rem"},children:Object(V.jsx)(p.a,{fontSize:"large"})}),Object(V.jsx)(k.a,{item:!0,children:Object(V.jsx)(R.a,{variant:"h6",children:" Book shop"})})]})}),Object(V.jsx)(C.a,{mdDown:!0,children:G}),Object(V.jsx)(C.a,{lgUp:!0,children:Y})]})})}),Object(V.jsx)("div",{className:n.toolbarMargin})]})}}).call(this,n(133))},146:function(e,t,n){"use strict";var r=n(11),a=n(19),c=n(0),i=n(147),s=n.n(i),o=n(17),d=n(126),l=n(125),u=n(60),j=n(1),b=Object(l.a)((function(e){return{search:Object(a.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(o.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(o.c)(e.palette.common.white,.25)},marginLeft:"auto",width:"100%"},e.breakpoints.up("sm"),{marginLeft:"auto",width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(a.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"15ch"})}}));t.a=function(e){var t=e.history,n=b(),a=Object(c.useState)(""),i=Object(r.a)(a,2),o=i[0],l=i[1];return Object(j.jsxs)("form",{className:n.search,children:[Object(j.jsx)("div",{className:n.searchIcon,children:Object(j.jsx)(s.a,{})}),Object(j.jsx)(d.a,{placeholder:"Search\u2026",onChange:function(e){return l(e.target.value)},classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}}),Object(j.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),o.trimEnd()?t.push("/search/".concat(o)):t.push("/")},style:{marginBottom:4,marginRight:4},children:"Search"})]})}},186:function(e,t,n){},21:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return O}));var r=n(13),a=n.n(r),c=n(22),i=n(23),s=n.n(i),o=n(10),d=n(14),l=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,i,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:o.m}),c={headers:{"Content-Type":"application/json"}},n.next=5,s.a.post("/api/users/login",{email:e,password:t},c);case 5:i=n.sent,d=i.data,r({type:o.n,payload:d}),localStorage.setItem("userInfo",JSON.stringify(d)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:o.l,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},u=function(){return function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),localStorage.removeItem("paymentMethod"),e({type:o.o}),e({type:o.f}),e({type:d.o}),e({type:o.j}),document.location.href="/"}},j=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){var i,d,l;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:o.q}),i={headers:{"Content-Type":"application/json"}},r.next=5,s.a.post("/api/users",{name:e,email:t,password:n},i);case 5:d=r.sent,l=d.data,c({type:o.r,payload:l}),c({type:o.n,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),c({type:o.p,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i,d,l,j,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.e}),c=r(),i=c.userLogin.userInfo,d={headers:{Authorization:"Bearer ".concat(i.token)}},t.next=6,s.a.get("/api/users/".concat(e),d);case 6:l=t.sent,j=l.data,n({type:o.g,payload:j}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(u()),n({type:o.d,payload:b});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i,d,l,j,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.u}),c=r(),i=c.userLogin.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,s.a.put("/api/users/profile",e,d);case 6:l=t.sent,j=l.data,n({type:o.w,payload:j}),n({type:o.n,payload:j}),localStorage.setItem("userInfo",JSON.stringify(j)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(u()),n({type:o.t,payload:b});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,i,d,l,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.i}),r=n(),c=r.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,s.a.get("/api/users",i);case 6:d=e.sent,l=d.data,t({type:o.k,payload:l}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(j=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(u()),t({type:o.h,payload:j});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i,d,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.b}),c=r(),i=c.userLogin.userInfo,d={headers:{Authorization:"Bearer ".concat(i.token)}},t.next=6,s.a.delete("/api/users/".concat(e),d);case 6:n({type:o.c}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(u()),n({type:o.a,payload:l});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i,d,l,j,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.x}),c=r(),i=c.userLogin.userInfo,d={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,s.a.put("/api/users/".concat(e._id),e,d);case 6:l=t.sent,j=l.data,n({type:o.z}),n({type:o.g,payload:j}),n({type:o.f}),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(b=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(u()),n({type:o.s,payload:b});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()}},225:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),i=n.n(c),s=n(8),o=n(87),d=n(143),l=n(144),u=n(7),j="PRODUCT_LIST_REQUEST",b="PRODUCT_LIST_SUCCESS",p="PRODUCT_LIST_FAIL",m="PRODUCT_DETAILS_REQUEST",h="PRODUCT_DETAILS_SUCCESS",O="PRODUCT_DETAILS_FAIL",g="PRODUCT_DELETE_REQUEST",f="PRODUCT_DELETE_SUCCESS",x="PRODUCT_DELETE_FAIL",y="PRODUCT_CREATE_REQUEST",v="PRODUCT_CREATE_SUCCESS",w="PRODUCT_CREATE_FAIL",S="PRODUCT_CREATE_RESET",E="PRODUCT_UPDATE_REQUEST",I="PRODUCT_UPDATE_SUCCESS",C="PRODUCT_UPDATE_FAIL",k="PRODUCT_UPDATE_RESET",R="PRODUCT_CREATE_REVIEW_REQUEST",T="PRODUCT_CREATE_REVIEW_SUCCESS",_="PRODUCT_CREATE_REVIEW_FAIL",D="PRODUCT_CREATE_REVIEW_RESET",A="PRODUCT_TOP_REQUEST",P="PRODUCT_TOP_SUCCESS",U="PRODUCT_TOP_FAIL",L=n(75),N="CART_ADD_ITEM",F="CART_RESET",W="CART_REMOVE_ITEM",B="CART_SAVE_SHIPPING_ADDRESS",z="CART_SAVE_PAYMENT_METHOD",V=n(10),q=n(14),M=Object(o.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0,products:[]};case b:return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case p:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case h:return{loading:!1,product:t.payload};case O:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case f:return{loading:!1,success:!0};case x:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case v:return{loading:!1,success:!0,product:t.payload};case w:return{loading:!1,error:t.payload};case S:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{loading:!0};case I:return{loading:!1,success:!0,product:t.payload};case C:return{loading:!1,error:t.payload};case k:return{product:{}};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case T:return{loading:!1,success:!0};case _:return{loading:!1,error:t.payload};case D:return{};default:return e}},productTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{loading:!0,products:[]};case P:return{loading:!1,products:t.payload};case U:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var n=t.payload,r=e.cartItems.find((function(e){return e.product===n.product}));return r?Object(u.a)(Object(u.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?n:e}))}):Object(u.a)(Object(u.a)({},e),{},{cartItems:[].concat(Object(L.a)(e.cartItems),[n])});case W:return Object(u.a)(Object(u.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case B:return Object(u.a)(Object(u.a)({},e),{},{shippingAddress:t.payload});case z:return Object(u.a)(Object(u.a)({},e),{},{paymentMethod:t.payload});case F:return Object(u.a)(Object(u.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.m:return{loading:!0};case V.n:return{loading:!1,userInfo:t.payload};case V.l:return{loading:!1,error:t.payload};case V.o:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.q:return{loading:!0};case V.r:return{loading:!1,userInfo:t.payload};case V.p:return{loading:!1,error:t.payload};case V.o:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.e:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case V.g:return{loading:!1,user:t.payload};case V.d:return{loading:!1,error:t.payload};case V.f:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.u:return{loading:!0};case V.w:return{loading:!1,success:!0,userInfo:t.payload};case V.t:return{loading:!1,error:t.payload};case V.v:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.i:return{loading:!0};case V.k:return{loading:!1,users:t.payload};case V.h:return{loading:!1,error:t.payload};case V.j:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.b:return{loading:!0};case V.c:return{loading:!1,success:!0};case V.a:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.x:return{loading:!0};case V.z:return{loading:!1,success:!0};case V.s:return{loading:!1,error:t.payload};case V.y:return{user:{}};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.b:return{loading:!0};case q.d:return{loading:!1,success:!0,order:t.payload};case q.a:return{loading:!1,error:t.payload};case q.c:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.j:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case q.k:return{loading:!1,order:t.payload};case q.i:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.t:return{loading:!0};case q.v:return{loading:!1,success:!0};case q.s:return{loading:!1,error:t.payload};case q.u:return{};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.f:return{loading:!0};case q.h:return{loading:!1,success:!0};case q.e:return{loading:!1,error:t.payload};case q.g:return{};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.n:return{loading:!0};case q.p:return{loading:!1,orders:t.payload};case q.m:return{loading:!1,error:t.payload};case q.o:return{orders:[]};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.q:return{loading:!0};case q.r:return{loading:!1,orders:t.payload};case q.l:return{loading:!1,error:t.payload};default:return e}}}),$=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Q=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,G={cart:{cartItems:$,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:Q}},Y=[d.a],H=Object(o.createStore)(M,G,Object(l.composeWithDevTools)(o.applyMiddleware.apply(void 0,Y))),J=(n(186),n(11)),K=n(306),X=n(12),Z=n(28),ee=n(158),te="#8f1946",ne="#0B72B9",re="#FFBA60",ae="#868686",ce="#fff",ie=Object(ee.a)({palette:{common:{blue:ne,red:te,orange:re,gray:ae},primary:{main:te},secondary:{main:re}},typography:{tab:{fontFamily:"Dosis",fontWeight:700,color:"white",fontSize:"1rem"},estimate:{fontFamily:"Dosis",fontSize:"1rem",textTransform:"none",color:te},h1:{fontFamily:"Dosis",fontWeight:700,fontSize:"3rem",color:"#000",lineHeight:1.5,padding:"1rem 0"},h2:{fontFamily:"Dosis",fontSize:"2.5rem",fontWeight:700,color:"#000",lineHeight:1.5},h3:{fontWeight:500,fontFamily:"Dosis",fontSize:"2rem",color:ce},h4:{fontFamily:"Dosis",fontSize:"1.75rem",color:"#000",fontWeight:400},h5:{fontFamily:"Dosis",fontWeight:300,fontSize:"1.6rem",color:"#000",lineHeight:1},h6:{fontFamily:"Dosis",fontWeight:400,fontSize:"1.6rem",color:ce,lineHeight:1},subtitle1:{fontFamily:"Dosis",fontSize:"1.25rem",fontWeight:300,color:ce},subtitle2:{fontFamily:"Dosis",color:"white",fontWeight:300,fontSize:"1.25rem"},body1:{fontFamily:"Dosis",fontSize:"1.25rem",color:ae,fontWeight:400},caption:{fontFamily:"Dosis",fontSize:"1rem",fontWeight:300,color:ae},learnButton:{borderColor:ne,borderWidth:2,textTransform:"none",color:ne,borderRadius:50,fontFamily:"Roboto",fontWeight:"bold"}},overrides:{MuiInputLabel:{root:{color:re,fontSize:"1rem"}},MuiAccordionSummary:{content:{margin:0}},MuiInput:{root:{color:ae,fontWeight:300},underline:{"&:before":{borderBottom:"2px solid ".concat(re)},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:"2px solid ".concat(re)}}}}}),se=n(289),oe=n(145),de=n(19),le=n(288),ue=n(70),je=n(78),be=n(1),pe=Object(le.a)((function(e){var t;return{footer:{backgroundColor:e.palette.common.red,width:"100%",zIndex:1302,position:"relative"},adornment:(t={width:"25em",verticalAlign:"bottom"},Object(de.a)(t,e.breakpoints.down("md"),{width:"21em"}),Object(de.a)(t,e.breakpoints.down("xs"),{width:"15em"}),t)}})),me=function(){var e=pe();return Object(be.jsx)("footer",{className:e.footer,children:Object(be.jsx)(se.a,{children:Object(be.jsx)(ue.a,{container:!0,justify:"center",children:Object(be.jsx)(ue.a,{item:!0,style:{textAlign:"center"},children:Object(be.jsxs)(je.a,{variant:"subtitle1",gutterBottom:!0,children:["Copyright \xa9 Bookshop ",(new Date).getFullYear()]})})})})})},he=n(60),Oe=n(125),ge=n(290),fe=n(291),xe=n(316),ye=Object(Oe.a)((function(e){return{root:{padding:"1rem",height:530},media:{height:370,width:"100%",boxShadow:e.shadows[1],borderRadius:5},link:{textDecoration:"none",color:"#000"},mb:{marginBottom:"1rem"},image:{height:"100%",width:"100%"}}})),ve=function(e){var t=e.product,n=ye();return Object(be.jsxs)(ge.a,{className:n.root,children:[Object(be.jsx)(ue.a,{container:!0,children:Object(be.jsx)(ue.a,{item:!0,component:X.b,className:n.media,to:"/product/".concat(t._id),children:Object(be.jsx)("img",{src:t.image,alt:t.name,className:n.image})})}),Object(be.jsxs)(fe.a,{children:[Object(be.jsx)("div",{className:n.mb,style:{height:40},children:Object(be.jsx)(je.a,{gutterBottom:!0,variant:"h5",component:X.b,to:"/product/".concat(t._id),className:n.link,children:t.name})}),Object(be.jsxs)(ue.a,{container:!0,alignItems:"center",className:n.mb,children:[Object(be.jsx)(ue.a,{item:!0,children:Object(be.jsx)(xe.a,{name:"simple-controlled",value:t.rating,precision:.5,readOnly:!0})}),Object(be.jsxs)(ue.a,{item:!0,style:{marginLeft:"1rem"},children:[t.numReviews," reviews"]})]}),Object(be.jsxs)(je.a,{variant:"h4",component:"p",children:["$",t.price]})]})]})},we=n(13),Se=n.n(we),Ee=n(22),Ie=n(23),Ce=n.n(Ie),ke=n(21),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var n=Object(Ee.a)(Se.a.mark((function n(r){var a,c;return Se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:j}),n.next=4,Ce.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:a=n.sent,c=a.data,r({type:b,payload:c}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r({type:p,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(Ee.a)(Se.a.mark((function t(n){var r,a;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:m}),t.next=4,Ce.a.get("/api/products/".concat(e));case 4:r=t.sent,a=r.data,n({type:h,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:O,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},_e=n(292),De=function(){return Object(be.jsx)(ue.a,{container:!0,justify:"center",children:Object(be.jsx)(ue.a,{item:!0,style:{padding:"5rem",marginBottom:"19rem"},children:Object(be.jsx)(_e.a,{size:"5rem"})})})},Ae=n(308),Pe=function(e){var t=e.pages,n=e.page,r=e.isAdmin,a=void 0!==r&&r,c=e.keyword,i=void 0===c?"":c,s=e.history;return t>1&&Object(be.jsx)(Ae.a,{count:t,page:n,onChange:function(e,t){a?s.push("/admin/productlist/".concat(t)):i?s.push("/search/".concat(i,"/page/").concat(t)):s.push("/page/".concat(t))},style:{marginBottom:"2rem"}})},Ue=n(309),Le=function(e){var t=e.severity,n=e.children;return Object(be.jsx)(Ue.a,{style:{marginBottom:"10rem"},severity:t,children:n})};Le.defaultProps={severity:"info"};var Ne=Le,Fe=n(151),We=function(e){var t=e.title,n=e.description,r=e.keywords;return Object(be.jsxs)(Fe.a,{children:[Object(be.jsx)("title",{children:t}),Object(be.jsx)("meta",{name:"description",content:n}),Object(be.jsx)("meta",{name:"keyword",content:r})]})};We.defaultProps={title:"Welcome To Bookshop",description:"We sell the best products for cheap",keywords:"books, buy books, cheap books"};var Be=We,ze=n(315),Ve=function(e){var t=e.error,n=Object(r.useState)({open:!0,color:"#FFBA60"}),a=Object(J.a)(n,2),c=a[0],i=a[1];return Object(be.jsx)(ze.a,{open:c.open,ContentProps:{style:{backgroundColor:c.color}},anchorOrigin:{vertical:"bottom",horizontal:"left"},message:t,autoHideDuration:4e3,onClose:function(){return i(Object(u.a)(Object(u.a)({},c),{},{open:!1}))}})},qe=n(154),Me=n.n(qe),$e=(n(223),n(224),Object(Oe.a)((function(e){return{container:{background:"#e0e0e05c",padding:"0 2rem",borderRadius:5,boxShadow:e.shadows[5]},img:{padding:"1rem",borderRadius:15,marginTop:"1rem",boxShadow:e.shadows[2]},link:{padding:"1rem",textDecoration:"none"}}}))),Qe=function(){var e=$e(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.productTopRated})),a=n.loading,c=n.error,i=n.products;Object(r.useEffect)((function(){t(function(){var e=Object(Ee.a)(Se.a.mark((function e(t){var n,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:A}),e.next=4,Ce.a.get("/api/products/top");case 4:n=e.sent,r=n.data,t({type:P,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:U,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return a?Object(be.jsx)(De,{}):c?Object(be.jsx)(Ve,{error:c}):Object(be.jsx)("div",{className:e.container,children:Object(be.jsx)(Me.a,Object(u.a)(Object(u.a)({},{dots:!0,accessibility:!0,autoplay:!0,arrows:!0,infinite:!0,speed:500}),{},{children:i.map((function(t,n){return Object(be.jsxs)(ue.a,{direction:"column",container:!0,justify:"center",children:[Object(be.jsx)(ue.a,{container:!0,item:!0,justify:"center",alignItems:"center",children:Object(be.jsx)(ue.a,{item:!0,className:e.img,children:Object(be.jsx)("img",{src:t.image,alt:t.name,style:{width:"auto",height:350}})})}),Object(be.jsx)(ue.a,{component:X.b,to:"/product/".concat(t._id),className:e.link,children:Object(be.jsxs)(je.a,{variant:"h4",align:"center",children:[t.name," $",t.price]})})]},t._id)}))}))})},Ge=Object(Oe.a)((function(e){var t;return{toolbarMargin:(t={marginBottom:"1em"},Object(de.a)(t,e.breakpoints.down("md"),{marginBottom:"0.8em"}),Object(de.a)(t,e.breakpoints.down("xs"),{marginBottom:"0.6em"}),t)}})),Ye=function(e){var t=e.match,n=e.history,a=Ge(),c=t.params.keyword,i=t.params.pageNumber||1,o=Object(s.b)(),d=Object(s.c)((function(e){return e.productList})),l=d.loading,u=d.error,j=d.products,b=d.pages,p=d.page;return Object(r.useEffect)((function(){o(Re(c,i))}),[o,c,i]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Be,{}),c?Object(be.jsx)(he.a,{variant:"contained",component:X.b,to:"/",color:"inherit",size:"small",children:"Go Back"}):Object(be.jsx)(Qe,{}),Object(be.jsx)(je.a,{variant:"h1",children:"Latest Products"}),l?Object(be.jsx)(De,{}):u?Object(be.jsx)(Ne,{severity:"error",children:u}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(ue.a,{container:!0,spacing:3,className:a.toolbarMargin,children:j.map((function(e,t){return Object(be.jsx)(ue.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(be.jsx)(ve,{product:e})},e._id)}))}),Object(be.jsx)(Pe,{pages:b,page:p,keyword:c||"",history:n})]})]})},He=n(228),Je=n(61),Ke=n(57),Xe=n(294),Ze=n(311),et=n(307),tt=n(297),nt=n(287),rt=n(26),at=Object(Oe.a)((function(e){var t,n;return{button:(t={marginBottom:"1rem"},Object(de.a)(t,e.breakpoints.down("md"),{marginTop:"1rem"}),Object(de.a)(t,e.breakpoints.down("sm"),{marginTop:"1rem"}),t),image:(n={width:"25rem",borderRadius:5,boxShadow:e.shadows[5]},Object(de.a)(n,e.breakpoints.down("md"),{width:"20rem"}),Object(de.a)(n,e.breakpoints.down("sm"),{width:"17rem"}),n),container:{marginTop:"1rem",marginBottom:"5rem"},form:{width:"100%",marginTop:e.spacing(1)},description:Object(de.a)({border:"2px solid ".concat(e.palette.common.orange),padding:"0.5rem",width:"96%"},e.breakpoints.down("sm"),{padding:"0rem",width:"100%"}),select:{"&::before":{border:"2px solid ".concat(e.palette.common.orange)}}}})),ct=function(e){var t=e.history,n=e.match,c=at(),i=Object(rt.a)(),o=Object(nt.a)(i.breakpoints.down("sm")),d=Object(nt.a)(i.breakpoints.down("md")),l=Object(r.useState)(1),u=Object(J.a)(l,2),j=u[0],b=u[1],p=Object(r.useState)(5),m=Object(J.a)(p,2),h=m[0],O=m[1],g=Object(r.useState)(""),f=Object(J.a)(g,2),x=f[0],y=f[1],v=Object(s.b)(),w=Object(s.c)((function(e){return e.productDetails})),S=w.loading,E=w.error,I=w.product,C=Object(s.c)((function(e){return e.productReviewCreate})),k=C.success,A=C.loading,P=C.error,U=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){k&&(O(0),y(""),v(Te(n.params.id)),v({type:D})),I._id&&I._id===n.params.id||(v(Te(n.params.id)),v({type:D}))}),[v,n,k,I]);return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(he.a,{component:X.b,to:"/",variant:"contained",className:c.button,children:"Go Back"}),S?Object(be.jsx)(De,{}):E?Object(be.jsx)(Ne,{severity:"error",children:E}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Be,{title:I.name}),Object(be.jsxs)(ue.a,{container:!0,direction:o?"column":"row",alignItems:o?"center":void 0,className:c.container,children:[Object(be.jsx)(ue.a,{item:!0,md:4,style:{marginTop:o?"1rem":0},children:Object(be.jsx)("img",{src:I.image,alt:I.name,className:c.image})}),Object(be.jsx)(ue.a,{item:!0,md:5,style:{padding:"0 2rem",margin:o?"1rem 0":0},children:Object(be.jsxs)(He.a,{"aria-label":"secondary mailbox folders",children:[Object(be.jsx)(Je.a,{children:Object(be.jsx)(Ke.a,{primary:Object(be.jsx)(je.a,{variant:"h4",children:I.name})})}),Object(be.jsx)(Xe.a,{}),Object(be.jsx)(Je.a,{children:Object(be.jsx)(Ke.a,{primary:Object(be.jsxs)(ue.a,{container:!0,alignItems:"center",children:[Object(be.jsx)(ue.a,{item:!0,children:Object(be.jsx)(xe.a,{name:"simple-controlled",value:I.rating,precision:.5,readOnly:!0})}),Object(be.jsxs)(ue.a,{item:!0,style:{marginLeft:"1rem"},children:[I.numReviews," reviews"]})]})})}),Object(be.jsx)(Je.a,{children:Object(be.jsx)(Ke.a,{primary:"Price: $".concat(I.price)})}),Object(be.jsx)(Je.a,{children:Object(be.jsx)(Ke.a,{primary:"Description: ".concat(I.description)})})]})}),Object(be.jsx)(ue.a,{item:!0,md:3,style:{marginTop:"1rem",padding:d?"0 2rem":0},children:Object(be.jsx)(ge.a,{children:Object(be.jsxs)(He.a,{children:[Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,children:"Price:"}),Object(be.jsxs)(ue.a,{item:!0,children:["$",I.price]})]})}),Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,children:"status:"}),Object(be.jsx)(ue.a,{item:!0,children:I.countInStock>0?"In Stock":"Out Of Stock"})]})}),I.countInStock>0&&Object(be.jsx)(Je.a,{children:Object(be.jsx)(ue.a,{container:!0,justify:"space-between",children:Object(be.jsx)(ue.a,{item:!0,children:Object(be.jsx)(et.a,{labelId:"qty",id:"qty",style:{width:o?"20rem":d?180:"13.8em"},displayEmpty:!0,renderValue:j>0?void 0:function(){return"Quantity"},value:j,onChange:function(e){return b(e.target.value)},children:Object(L.a)(Array(I.countInStock).keys()).map((function(e){return Object(be.jsx)(tt.a,{value:e+1,children:e+1},e+1)}))})})})}),Object(be.jsx)(Je.a,{children:Object(be.jsx)(he.a,{onClick:function(){t.push("/cart/".concat(n.params.id,"?qty=").concat(j))},variant:"contained",color:"primary",fullWidth:!0,disabled:0===I.countInStock,children:"Add To Cart"})})]})})})]}),Object(be.jsx)(ue.a,{container:!0,children:Object(be.jsxs)(ue.a,{item:!0,sm:5,children:[Object(be.jsx)(je.a,{variant:"h2",children:"Reviews"}),0===I.reviews.length&&Object(be.jsx)(Ue.a,{variant:"outlined",severity:"info",style:{margin:"1rem 0"},children:"No Reviews"}),Object(be.jsxs)(He.a,{children:[I.reviews.map((function(e){return Object(be.jsxs)(a.a.Fragment,{children:[Object(be.jsx)(Je.a,{disableGutters:!0,children:Object(be.jsxs)(ue.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,children:Object(be.jsxs)(je.a,{variant:"h4",children:[e.name," "]})}),Object(be.jsxs)(ue.a,{item:!0,children:[Object(be.jsx)(xe.a,{size:"small",name:"simple-controlled",value:e.rating,precision:.5,readOnly:!0})," "]}),Object(be.jsxs)(ue.a,{item:!0,children:[Object(be.jsxs)(je.a,{variant:"h5",children:[e.createdAt.substring(0,10)," "]})," "]})]})}),Object(be.jsx)(Je.a,{children:Object(be.jsx)(ue.a,{container:!0,children:Object(be.jsx)(ue.a,{item:!0,children:Object(be.jsx)(je.a,{variant:"body2",children:e.comment})})})}),Object(be.jsx)(Xe.a,{style:{marginTop:"1rem"}})]},e._id)})),Object(be.jsx)(Je.a,{style:{marginTop:"1rem"},disableGutters:!0,children:Object(be.jsx)(je.a,{variant:"body1",children:"Write a Customer Review"})}),k&&Object(be.jsx)(Ue.a,{variant:"outlined",severity:"success",style:{margin:"1rem 0"},children:"Review submitted successfully"}),A&&Object(be.jsx)(De,{}),P&&Object(be.jsx)(Ue.a,{variant:"outlined",severity:"warning",style:{margin:"1rem 0"},children:P}),U?Object(be.jsx)(Je.a,{disableGutters:!0,children:Object(be.jsxs)("form",{className:c.form,noValidate:!0,children:[Object(be.jsxs)(et.a,{labelId:"rating",id:"rating",displayEmpty:!0,renderValue:h>0?void 0:function(){return"Select..."},value:h,onChange:function(e){return O(e.target.value)},children:[Object(be.jsx)(tt.a,{value:"1",children:"1 - Poor"}),Object(be.jsx)(tt.a,{value:"2",children:"2 - Fair"}),Object(be.jsx)(tt.a,{value:"3",children:"3 - Good"}),Object(be.jsx)(tt.a,{value:"4",children:"4 - Very Good"}),Object(be.jsx)(tt.a,{value:"5",children:"5 - Excellent"})]}),Object(be.jsx)(Ze.a,{InputProps:{disableUnderline:!0},variant:"standard",margin:"normal",required:!0,multiline:!0,fullWidth:!0,rows:5,id:"comment",label:"Comment",name:"comment",className:c.description,value:x,onChange:function(e){return y(e.target.value)}}),Object(be.jsx)(he.a,{type:"submit",onClick:function(e){var t,r;e.preventDefault(),v((t=n.params.id,r={rating:h,comment:x},function(){var e=Object(Ee.a)(Se.a.mark((function e(n,a){var c,i,s,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:R}),c=a(),i=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},e.next=6,Ce.a.post("/api/products/".concat(t,"/reviews"),r,s);case 6:n({type:T}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&n(Object(ke.e)()),n({type:_,payload:o});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()))},variant:"contained",color:"secondary",children:"Submit"})]})}):Object(be.jsxs)(Ue.a,{variant:"outlined",severity:"info",style:{margin:"1rem 0"},children:["Please"," ",Object(be.jsxs)(he.a,{component:X.b,to:"/login",style:{textTransform:"none"},children:[" ","sign in"]}),"to write a review"]})]})]})})]})]})},it=n(74),st=n.n(it),ot=function(e,t){return function(){var n=Object(Ee.a)(Se.a.mark((function n(r,a){var c,i;return Se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ce.a.get("/api/products/".concat(e));case 2:c=n.sent,i=c.data,r({type:N,payload:{product:i._id,name:i.name,image:i.image,price:i.price,countInStock:i.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},dt=Object(Oe.a)((function(e){var t;return{smallImage:(t={width:"100%",height:"100%",borderRadius:5,boxShadow:e.shadows[1]},Object(de.a)(t,e.breakpoints.down("sm"),{width:"5rem"}),Object(de.a)(t,e.breakpoints.down("xs"),{width:"10rem"}),t)}})),lt=function(e){var t=e.match,n=e.location,a=e.history,c=dt(),i=Object(rt.a)(),o=Object(nt.a)(i.breakpoints.down("xs")),d=Object(nt.a)(i.breakpoints.down("sm")),l=Object(s.b)(),u=Object(s.c)((function(e){return e.cart})).cartItems,j=t.params.id,b=n.search?Number(n.search.split("=")[1]):1;Object(r.useEffect)((function(){j&&l(ot(j,b))}),[l,j,b]);var p=function(e){l(function(e){return function(t,n){t({type:W,payload:e}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems))}}(e))};return Object(be.jsxs)(ue.a,{container:!0,direction:d?"column":"row",alignItems:d?void 0:"center",children:[Object(be.jsxs)(ue.a,{item:!0,md:8,children:[Object(be.jsx)(je.a,{variant:"h1",children:"Shopping Cart"}),0===u.length?Object(be.jsxs)(Ne,{children:["Your Cart is empty"," ",Object(be.jsx)(he.a,{color:"inherit",size:"small",children:"Go Back"})," "]}):Object(be.jsx)(He.a,{children:u.map((function(e){return Object(be.jsxs)("div",{children:[Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,direction:o?"column":"row",justify:o?"center":"space-between",alignItems:"center",children:[Object(be.jsx)(ue.a,{item:!0,md:2,children:Object(be.jsx)("img",{className:c.smallImage,src:e.image,alt:e.name})}),Object(be.jsx)(ue.a,{item:!0,md:3,align:"center",style:{margin:o?"1rem 0":0},children:Object(be.jsx)(he.a,{component:X.b,to:"./product/".concat(e.product),children:e.name})}),Object(be.jsxs)(ue.a,{item:!0,md:2,children:["$",e.price]}),Object(be.jsx)(ue.a,{item:!0,md:2,style:{margin:o?"1rem 0":0},children:Object(be.jsx)(et.a,{labelId:"qty",id:"qty",style:{width:"3em"},displayEmpty:!0,renderValue:e.qty>0?void 0:function(){return"Quantity"},value:e.qty,onChange:function(t){return l(ot(e.product,Number(t.target.value)))},children:Object(L.a)(Array(e.countInStock).keys()).map((function(e){return Object(be.jsx)(tt.a,{value:e+1,children:e+1},e+1)}))})}),Object(be.jsx)(ue.a,{item:!0,md:1,children:Object(be.jsx)(he.a,{variant:"contained",color:"secondary",onClick:function(){return p(e.product)},style:{padding:"1rem",borderRadius:5},children:Object(be.jsx)(st.a,{})})})]})}),Object(be.jsx)(Xe.a,{})]},e.product)}))})]}),Object(be.jsx)(ue.a,{item:!0,md:4,style:{marginTop:"3rem",padding:"1rem"},children:Object(be.jsx)(ge.a,{children:Object(be.jsxs)(He.a,{children:[Object(be.jsx)(Je.a,{children:Object(be.jsxs)(je.a,{variant:"h2",children:["SUBTOTAL (",u.reduce((function(e,t){return e+t.qty}),0),") ITEMS"]})}),Object(be.jsx)(Je.a,{children:Object(be.jsxs)(je.a,{variant:"h5",children:["$",u.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]})}),Object(be.jsx)(Je.a,{style:{marginTop:"3rem"},children:Object(be.jsx)(he.a,{onClick:function(){a.push("/login?redirect=shipping")},disabled:0===u.length,variant:"contained",color:"secondary",fullWidth:!0,children:"Proceed To Checkout"})})]})})})]})},ut=function(e){var t=e.children;return Object(be.jsx)(se.a,{children:Object(be.jsx)(ue.a,{container:!0,justify:"center",children:Object(be.jsx)(ue.a,{item:!0,sm:12,md:6,children:t})})})},jt=Object(Oe.a)((function(e){return{smallImage:{width:"100%",height:"100%",borderRadius:5,boxShadow:e.shadows[1]},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:"#000",color:"#fff"},link:{color:"#000",textDecoration:"none"}}})),bt=function(e){var t=e.location,n=e.history,a=jt(),c=Object(r.useState)(""),i=Object(J.a)(c,2),o=i[0],d=i[1],l=Object(r.useState)(""),u=Object(J.a)(l,2),j=u[0],b=u[1],p=t.search?t.search.split("=")[1]:"/",m=Object(s.b)(),h=Object(s.c)((function(e){return e.userLogin})),O=h.userInfo,g=h.loading,f=h.error;Object(r.useEffect)((function(){O&&n.push(p)}),[n,O,p]);var x=function(e){switch(e.target.id){case"email":d(e.target.value);break;case"password":b(e.target.value)}};return Object(be.jsxs)(ut,{children:[Object(be.jsx)(je.a,{variant:"h1",align:"center",children:"Sign In"}),f&&Object(be.jsx)(Ve,{error:f}),g&&Object(be.jsx)(De,{}),Object(be.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(be.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:o,onChange:x}),Object(be.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:j,onChange:x}),Object(be.jsx)(he.a,{type:"submit",onClick:function(e){e.preventDefault(),m(Object(ke.d)(o,j)),d(""),b("")},fullWidth:!0,variant:"contained",className:a.submit,disabled:0===o.length||0===j.length,children:"Sign In"}),Object(be.jsx)(ue.a,{container:!0,justify:"center",children:Object(be.jsx)(ue.a,{item:!0,children:Object(be.jsx)(je.a,{className:a.link,component:X.b,to:p?"/register?redirect=".concat(p):"/register",variant:"body2",children:'"Don\'t have an account? Sign Up"'})})})]})]})},pt=Object(Oe.a)((function(e){return{smallImage:{width:"100%",height:"100%",borderRadius:5,boxShadow:e.shadows[1]},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:e.spacing(1.5,1.5),backgroundColor:"#000",color:"#fff"},link:{color:"#000",textDecoration:"none"}}})),mt=function(e){var t=e.location,n=e.history,a=pt(),c=Object(r.useState)(""),i=Object(J.a)(c,2),o=i[0],d=i[1],l=Object(r.useState)(""),u=Object(J.a)(l,2),j=u[0],b=u[1],p=Object(r.useState)(""),m=Object(J.a)(p,2),h=m[0],O=m[1],g=Object(r.useState)(""),f=Object(J.a)(g,2),x=f[0],y=f[1],v=Object(r.useState)(null),w=Object(J.a)(v,2),S=w[0],E=w[1],I=t.search?t.search.split("=")[1]:"/",C=Object(s.b)(),k=Object(s.c)((function(e){return e.userRegister})),R=k.userInfo,T=k.loading,_=k.error;Object(r.useEffect)((function(){R&&n.push(I)}),[n,R,I]);return Object(be.jsxs)(ut,{children:[Object(be.jsx)(je.a,{variant:"h1",align:"center",children:"Sign Up"}),S&&Object(be.jsx)(Ve,{error:S}),_&&Object(be.jsx)(Ve,{error:_}),T&&Object(be.jsx)(De,{}),Object(be.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(be.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:o,onChange:function(e){return d(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:j,onChange:function(e){return b(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:h,onChange:function(e){return O(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"confirmPassword",id:"confirmPassword",autoComplete:"current-password",value:x,onChange:function(e){return y(e.target.value)}}),Object(be.jsx)(he.a,{type:"submit",onClick:function(e){e.preventDefault(),h!==x?(E("Password do not match"),d(""),b(""),O(""),y("")):(C(Object(ke.f)(o,j,h)),d(""),b(""),O(""),y(""))},fullWidth:!0,variant:"contained",className:a.submit,disabled:0===o.length||0===j.length||0===h.length||0===x.length,children:"Register"}),Object(be.jsx)(ue.a,{container:!0,justify:"center",children:Object(be.jsx)(ue.a,{item:!0,children:Object(be.jsx)(je.a,{className:a.link,component:X.b,to:I?"/login?redirect=".concat(I):"/login",variant:"body2",children:'"have an account? Login"'})})})]})]})},ht=n(65),Ot=n.n(ht),gt=n(299),ft=n(303),xt=n(302),yt=n(298),vt=n(300),wt=n(301),St=n(163),Et=Object(Oe.a)((function(e){return{smallImage:{width:"100%",height:"100%",borderRadius:5,boxShadow:e.shadows[1]},submit:{marginTop:"1rem"},closeIcon:{color:"#8f1529"}}})),It=function(e){e.match,e.location;var t=e.history,n=Et(),a=Object(rt.a)(),c=Object(nt.a)(a.breakpoints.down("md")),i=Object(r.useState)(""),o=Object(J.a)(i,2),d=o[0],l=o[1],u=Object(r.useState)(""),j=Object(J.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(""),h=Object(J.a)(m,2),O=h[0],g=h[1],f=Object(r.useState)(""),x=Object(J.a)(f,2),y=x[0],v=x[1],w=Object(r.useState)(null),S=Object(J.a)(w,2),E=S[0],I=S[1],C=Object(s.b)(),k=Object(s.c)((function(e){return e.userDetails})),R=k.loading,T=k.error,_=k.user,D=Object(s.c)((function(e){return e.userLogin})).userInfo,A=Object(s.c)((function(e){return e.userUpdateProfile})).success,P=Object(s.c)((function(e){return e.orderListMy})),U=P.loading,L=P.error,N=P.orders;Object(r.useEffect)((function(){D?_&&_.name&&!A?(l(_.name),p(_.email)):(C({type:V.v}),C(Object(ke.b)("profile")),C(function(){var e=Object(Ee.a)(Se.a.mark((function e(t,n){var r,a,c,i,s,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q.n}),r=n(),a=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,Ce.a.get("/api/orders/myorders",c);case 6:i=e.sent,s=i.data,t({type:q.p,payload:s}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(ke.e)()),t({type:q.m,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())):t.push("/login")}),[C,t,D,_,A]);return Object(be.jsxs)(ue.a,{container:!0,children:[Object(be.jsxs)(ue.a,{item:!0,md:3,style:{paddingRight:"2rem"},children:[Object(be.jsx)(je.a,{variant:"h2",align:"left",children:"User Profile"}),E&&Object(be.jsx)(Ve,{error:E}),A&&Object(be.jsx)(Ve,{error:"Profile Updated"}),T&&Object(be.jsx)(Ve,{error:T}),R&&Object(be.jsx)(De,{}),Object(be.jsxs)("form",{className:n.form,noValidate:!0,children:[Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:d,onChange:function(e){return l(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:b,onChange:function(e){return p(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:O,onChange:function(e){return g(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"confirmPassword",id:"confirmPassword",autoComplete:"current-password",value:y,onChange:function(e){return v(e.target.value)}}),Object(be.jsx)(he.a,{type:"submit",onClick:function(e){e.preventDefault(),O!==y?I("Password do not match"):C(Object(ke.h)({id:_._id,name:d,email:b,password:O}))},color:"secondary",fullWidth:!0,variant:"contained",className:n.submit,disabled:0===d.length||0===b.length,children:"Update"})]})]}),Object(be.jsxs)(ue.a,{item:!0,md:9,style:{maxWidth:"100%"},children:[Object(be.jsx)(je.a,{variant:"h2",style:{paddingLeft:"1rem",marginTop:c&&"1rem"},children:"My Orders"}),U?Object(be.jsx)(De,{}):L?Object(be.jsx)(Ne,{severity:"error",children:L}):Object(be.jsx)(yt.a,{component:St.a,style:{margin:"1rem"},children:Object(be.jsxs)(gt.a,{className:n.table,"aria-label":"simple table",children:[Object(be.jsx)(vt.a,{children:Object(be.jsxs)(wt.a,{children:[Object(be.jsx)(xt.a,{align:"center",children:"ID"}),Object(be.jsx)(xt.a,{align:"center",children:"DATE"}),Object(be.jsx)(xt.a,{align:"center",children:"TOTAL"}),Object(be.jsx)(xt.a,{align:"center",children:"PAID"}),Object(be.jsx)(xt.a,{align:"center",children:"DELIVERD"}),Object(be.jsx)(xt.a,{align:"center"})]})}),Object(be.jsx)(ft.a,{children:N.map((function(e){return Object(be.jsxs)(wt.a,{children:[Object(be.jsx)(xt.a,{align:"center",children:e._id}),Object(be.jsx)(xt.a,{align:"center",children:e.createdAt.substring(0,10)}),Object(be.jsx)(xt.a,{align:"center",children:e.totalPrice}),Object(be.jsx)(xt.a,{align:"center",children:e.isPaid?e.paidAt.substring(0,10):Object(be.jsx)(Ot.a,{classes:{root:n.closeIcon}})}),Object(be.jsx)(xt.a,{align:"center",children:e.isDeliverd?e.deliveredAt.substring(0,10):Object(be.jsx)(Ot.a,{classes:{root:n.closeIcon}})}),Object(be.jsx)(xt.a,{align:"center",children:Object(be.jsx)(he.a,{variant:"contained",component:X.b,to:"/order/".concat(e._id),children:"Details"})})]},e._id)}))})]})})]})]})},Ct=n(318),kt=n(304),Rt=n(313),Tt=Object(le.a)((function(e){return{root:{width:"100%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var _t=function(e){var t=e.history,n=Tt(),c=a.a.useState(0),i=Object(J.a)(c,2),s=i[0],o=i[1],d=a.a.useState(new Set([0])),l=Object(J.a)(d,2),j=l[0],b=l[1],p=["Sign In","Shipping","Payment","Place Order"];Object(r.useEffect)((function(){"/payment"===window.location.pathname?b(new Set([0,1])):"/placeorder"===window.location.pathname&&b(new Set([0,1,2]))}),[]);function m(e){return j.has(e)}return Object(be.jsx)("div",{className:n.root,children:Object(be.jsx)(Ct.a,{alternativeLabel:!0,nonLinear:!0,activeStep:s,children:p.map((function(e,n){var r;return Object(be.jsx)(kt.a,Object(u.a)(Object(u.a)({},{}),{},{children:Object(be.jsx)(Rt.a,Object(u.a)(Object(u.a)({onClick:(r=n,function(){1===r?t.push("/shipping"):2===r?t.push("/payment"):3===r&&t.push("/placeorder"),o(r)}),completed:m(n)},{}),{},{children:e}))}),e)}))})})},Dt=Object(Oe.a)((function(e){return{smallImage:{width:"100%",height:"100%",borderRadius:5,boxShadow:e.shadows[1]},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:e.spacing(1.5,1.5),backgroundColor:"#000",color:"#fff"},link:{color:"#000",textDecoration:"none"}}})),At=function(e){var t=e.history,n=Dt(),a=Object(s.c)((function(e){return e.cart})).shippingAddress,c=Object(r.useState)(a.address),i=Object(J.a)(c,2),o=i[0],d=i[1],l=Object(r.useState)(a.city),u=Object(J.a)(l,2),j=u[0],b=u[1],p=Object(r.useState)(a.postalCode),m=Object(J.a)(p,2),h=m[0],O=m[1],g=Object(r.useState)(a.country),f=Object(J.a)(g,2),x=f[0],y=f[1],v=Object(s.b)();return Object(be.jsxs)(ut,{children:[Object(be.jsx)(_t,{history:t}),Object(be.jsx)(je.a,{variant:"h1",align:"center",children:"Shipping"}),Object(be.jsxs)("form",{className:n.form,noValidate:!0,children:[Object(be.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"address",label:"Address",name:"address",type:"text",autoComplete:"address",autoFocus:!0,value:o,onChange:function(e){return d(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"city",label:"City",name:"city",type:"text",autoComplete:"city",value:j,onChange:function(e){return b(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"postalCode",label:"PostalCode",type:"text",id:"postalCode",autoComplete:"postalCode",value:h,onChange:function(e){return O(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"country",label:"Country",type:"text",id:"country",autoComplete:"country",value:x,onChange:function(e){return y(e.target.value)}}),Object(be.jsx)(he.a,{type:"submit",onClick:function(e){var n;e.preventDefault(),v((n={address:o,city:j,postalCode:h,country:x},function(e){e({type:B,payload:n}),localStorage.setItem("shippingAddress",JSON.stringify(n))})),t.push("/payment")},fullWidth:!0,variant:"contained",className:n.submit,children:"Continue"})]})]})},Pt=n(305),Ut=n(317),Lt=n(312),Nt=Object(Oe.a)((function(e){return{smallImage:{width:"100%",height:"100%",borderRadius:5,boxShadow:e.shadows[1]},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:e.spacing(1.5,1.5),backgroundColor:"#000",color:"#fff"},link:{color:"#000",textDecoration:"none"},service:{fontWeight:300,color:"#000"}}})),Ft=function(e){var t=e.history,n=Nt();Object(s.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping");var a=Object(r.useState)("PayPal"),c=Object(J.a)(a,2),i=c[0],o=c[1],d=Object(s.b)();return Object(be.jsxs)(ut,{children:[Object(be.jsx)(_t,{history:t}),Object(be.jsx)(je.a,{variant:"h1",align:"center",children:"Payment Method"}),Object(be.jsxs)("form",{className:n.form,noValidate:!0,children:[Object(be.jsxs)(Ut.a,{"aria-label":"service",name:"service",value:i,onChange:function(e){o(e.target.value)},children:[Object(be.jsx)(Pt.a,{classes:{label:n.service},value:"PayPal",label:"PayPal",control:Object(be.jsx)(Lt.a,{})}),Object(be.jsx)(Pt.a,{classes:{label:n.service},value:"Stripe",label:"Stripe",control:Object(be.jsx)(Lt.a,{})})]}),Object(be.jsx)(he.a,{type:"submit",onClick:function(e){var n;e.preventDefault(),d((n=i,function(e){e({type:z,payload:n}),localStorage.setItem("paymentMethod",JSON.stringify(n))})),t.push("/placeorder")},fullWidth:!0,variant:"contained",className:n.submit,children:"Continue"})]})]})},Wt=Object(Oe.a)((function(e){var t;return{smallImage:(t={width:"100%",height:"100%",borderRadius:5,boxShadow:e.shadows[1]},Object(de.a)(t,e.breakpoints.down("sm"),{width:"5rem"}),Object(de.a)(t,e.breakpoints.down("xs"),{width:"17rem"}),t),form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(1,0,2),padding:e.spacing(1.5,1.5),backgroundColor:"#000",color:"#fff"},link:{color:"#000",textDecoration:"none"},service:{fontWeight:300,color:"#000"}}})),Bt=function(e){var t=e.history,n=Wt(),a=Object(rt.a)(),c=Object(nt.a)(a.breakpoints.down("md")),i=Object(s.b)(),o=Object(s.c)((function(e){return e.cart})),d=Object(s.c)((function(e){return e.orderCreate})),l=d.order,u=d.success,j=d.error;Object(r.useEffect)((function(){u&&t.push("/order/".concat(l._id))}),[t,u]);var b=function(e){return(Math.round(100*e)/100).toFixed(2)};o.ItemsPrice=b(o.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),o.shippingPrice=b(o.ItemsPrice>100?0:100),o.taxPrice=b(Number((.15*o.ItemsPrice).toFixed(2))),o.totalPrice=b((Number(o.ItemsPrice)+Number(o.shippingPrice)+Number(o.taxPrice)).toFixed(2));return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(ut,{children:Object(be.jsx)(_t,{history:t})}),Object(be.jsxs)(ue.a,{container:!0,direction:c?"column":"row",alignItems:c&&"center",style:{marginTop:a.spacing(4)},children:[Object(be.jsx)(ue.a,{item:!0,md:8,style:{paddingRight:a.spacing(8)},children:Object(be.jsxs)(He.a,{disablePadding:!0,children:[Object(be.jsx)(Je.a,{children:Object(be.jsx)(je.a,{variant:"h2",children:"Shipping"})}),Object(be.jsxs)(Je.a,{children:[Object(be.jsxs)(je.a,{variant:"h5",component:"p",children:["Address :"," "]}),o.shippingAddress.address," , ",o.shippingAddress.city," ",o.shippingAddress.postalCode," ",o.shippingAddress.country]}),Object(be.jsx)(Xe.a,{}),Object(be.jsx)(Je.a,{children:Object(be.jsx)(je.a,{variant:"h2",component:"p",children:"Payment Method"})}),Object(be.jsxs)(Je.a,{children:[Object(be.jsx)(je.a,{variant:"h5",component:"p",children:"Method :"}),o.paymentMethod]}),Object(be.jsx)(Xe.a,{}),Object(be.jsx)(Je.a,{children:Object(be.jsx)(je.a,{variant:"h2",component:"p",children:"Order Items"})}),0===o.cartItems.length?Object(be.jsx)(Ne,{severity:"error",children:"Your Cart is empty "}):Object(be.jsx)(be.Fragment,{children:o.cartItems.map((function(e,t){return Object(be.jsx)(Je.a,{divider:!0,children:Object(be.jsxs)(ue.a,{container:!0,alignItems:"center",children:[Object(be.jsx)(ue.a,{item:!0,sm:2,children:Object(be.jsx)("img",{className:n.smallImage,src:e.image,alt:e.name})}),Object(be.jsx)(ue.a,{item:!0,sm:!0,style:{padding:a.spacing(0,1)},align:"center",children:Object(be.jsx)(he.a,{component:X.b,to:"./product/".concat(e.product),children:e.name})}),Object(be.jsxs)(ue.a,{item:!0,sm:4,style:{padding:a.spacing(0,1)},children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})}),Object(be.jsx)(ue.a,{item:!0,md:4,style:{padding:c?"2rem 1rem":0},children:Object(be.jsx)(ge.a,{children:Object(be.jsxs)(He.a,{children:[Object(be.jsx)(Je.a,{children:Object(be.jsx)(je.a,{variant:"h2",children:"Order Summary"})}),Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,sm:!0,children:"Items"}),Object(be.jsxs)(ue.a,{item:!0,sm:!0,children:["$",o.ItemsPrice]})]})}),Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,sm:!0,children:"Shipping"}),Object(be.jsxs)(ue.a,{item:!0,sm:!0,children:["$",o.shippingPrice]})]})}),Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,sm:!0,children:"Tax"}),Object(be.jsxs)(ue.a,{item:!0,sm:!0,children:["$",o.taxPrice]})]})}),Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,sm:!0,children:"Total"}),Object(be.jsxs)(ue.a,{item:!0,sm:!0,children:["$",o.totalPrice]})]})}),Object(be.jsx)(Je.a,{children:j&&Object(be.jsx)(Ve,{error:j})}),Object(be.jsx)(Je.a,{style:{marginTop:"1rem"},children:Object(be.jsx)(he.a,{onClick:function(){i(function(e){return function(){var t=Object(Ee.a)(Se.a.mark((function t(n,r){var a,c,i,s,o,d;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:q.b}),a=r(),c=a.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.post("/api/orders",e,i);case 6:s=t.sent,o=s.data,n({type:q.d,payload:o}),n({type:F,payload:o}),localStorage.removeItem("cartItems"),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(Object(ke.e)()),n({type:q.a,payload:d});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()}({orderItems:o.cartItems,shippingAddress:o.shippingAddress,paymentMethod:o.paymentMethod,ItemsPrice:o.ItemsPrice,taxPrice:o.taxPrice,shippingPrice:o.shippingPrice,totalPrice:o.totalPrice}))},disabled:0===o.cartItems.length,variant:"contained",color:"primary",fullWidth:!0,children:"Place Order"})})]})})})]})]})},zt=Object(Oe.a)((function(e){var t;return{smallImage:(t={width:"100%",height:"100%",borderRadius:5,boxShadow:e.shadows[1]},Object(de.a)(t,e.breakpoints.down("sm"),{width:"5rem"}),Object(de.a)(t,e.breakpoints.down("xs"),{width:"17rem"}),t),form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(1,0,2),padding:e.spacing(1.5,1.5),backgroundColor:"#000",color:"#fff"},link:{color:"#000",textDecoration:"none"},service:{fontWeight:300,color:"#000"}}})),Vt=function(e){var t,n=e.match,a=e.history,c=zt(),i=Object(rt.a)(),o=Object(nt.a)(i.breakpoints.down("md")),d=n.params.id,l=Object(s.b)(),u=Object(s.c)((function(e){return e.orderDetails})),j=u.order,b=u.loading,p=u.error,m=Object(s.c)((function(e){return e.orderPay})).success,h=Object(s.c)((function(e){return e.orderDeliver})),O=h.loading,g=h.success,f=Object(s.c)((function(e){return e.userLogin})).userInfo;if(!b){j.ItemsPrice=(t=j.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*t)/100).toFixed(2))}Object(r.useEffect)((function(){var e;f||a.push("/login"),(!j||m||g||j._id!==d)&&(l({type:q.u}),l({type:q.g}),l((e=d,function(){var t=Object(Ee.a)(Se.a.mark((function t(n,r){var a,c,i,s,o,d;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:q.j}),a=r(),c=a.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.get("/api/orders/".concat(e),i);case 6:s=t.sent,o=s.data,n({type:q.k,payload:o}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(Object(ke.e)()),n({type:q.i,payload:d});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}())))}),[l,d,m,j,g,a,f]);return b?Object(be.jsx)(De,{}):p?Object(be.jsx)(Ue.a,{severity:"error",children:"error"}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(je.a,{variant:"h1",children:[" Order ",j._id]}),Object(be.jsxs)(ue.a,{container:!0,direction:o?"column":"row",alignItems:o&&"center",style:{marginTop:i.spacing(2)},children:[Object(be.jsx)(ue.a,{item:!0,md:8,style:{paddingRight:i.spacing(8)},children:Object(be.jsxs)(He.a,{disablePadding:!0,children:[Object(be.jsx)(Je.a,{children:Object(be.jsx)(je.a,{variant:"h2",children:"Shipping"})}),Object(be.jsxs)(Je.a,{children:[Object(be.jsxs)(je.a,{variant:"h5",component:"p",children:["Name :"," "]}),j.user.name]}),Object(be.jsxs)(Je.a,{children:[Object(be.jsx)(je.a,{variant:"h5",component:"p",children:"Email :"}),Object(be.jsx)(je.a,{className:c.link,variant:"h5",component:"a",href:"mailto:".concat(j.user.email),rel:"noopener noreferrer",target:"_blank",children:j.user.email})]}),Object(be.jsxs)(Je.a,{children:[Object(be.jsxs)(je.a,{variant:"h5",component:"p",children:["Address :"," "]}),j.shippingAddress.address," , ",j.shippingAddress.city," ",j.shippingAddress.postalCode," ",j.shippingAddress.country]}),j.isDelivered?Object(be.jsxs)(Ue.a,{severity:"success",style:{marginBottom:"1rem"},children:["Delivered on ",j.deliveredAt]}):Object(be.jsx)(Ue.a,{severity:"error",style:{marginBottom:"1rem"},children:"Not Delivered"}),Object(be.jsx)(Xe.a,{}),Object(be.jsx)(Je.a,{children:Object(be.jsx)(je.a,{variant:"h2",component:"p",children:"Payment Method"})}),Object(be.jsxs)(Je.a,{children:[Object(be.jsx)(je.a,{variant:"h5",component:"p",children:"Method :"}),j.paymentMethod]}),j.isPaid?Object(be.jsxs)(Ue.a,{severity:"success",style:{marginBottom:"1rem"},children:["Paid on ",j.paidAt]}):Object(be.jsx)(Ue.a,{severity:"error",style:{marginBottom:"1rem"},children:"Not Paid"}),Object(be.jsx)(Xe.a,{}),Object(be.jsx)(Je.a,{children:Object(be.jsx)(je.a,{variant:"h2",component:"p",children:"Order Items"})}),0===j.orderItems.length?Object(be.jsx)(Ue.a,{severity:"error",children:"Order is empty "}):Object(be.jsx)(be.Fragment,{children:j.orderItems.map((function(e,t){return Object(be.jsx)(Je.a,{divider:!0,children:Object(be.jsxs)(ue.a,{container:!0,alignItems:"center",children:[Object(be.jsx)(ue.a,{item:!0,sm:2,children:Object(be.jsx)("img",{className:c.smallImage,src:e.image,alt:e.name})}),Object(be.jsx)(ue.a,{item:!0,sm:!0,style:{padding:i.spacing(0,1)},align:"center",children:Object(be.jsx)(he.a,{component:X.b,to:"./product/".concat(e.product),children:e.name})}),Object(be.jsxs)(ue.a,{item:!0,sm:4,style:{padding:i.spacing(0,1)},children:[e.qty," x $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})}),Object(be.jsx)(ue.a,{item:!0,md:4,style:{padding:o?"2rem 1rem":0},children:Object(be.jsx)(ge.a,{children:Object(be.jsxs)(He.a,{children:[Object(be.jsx)(Je.a,{children:Object(be.jsx)(je.a,{variant:"h2",children:"Order Summary"})}),Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,sm:!0,children:"Items"}),Object(be.jsxs)(ue.a,{item:!0,sm:!0,children:["$",j.ItemsPrice]})]})}),Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,sm:!0,children:"Shipping"}),Object(be.jsxs)(ue.a,{item:!0,sm:!0,children:["$",j.shippingPrice]})]})}),Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,sm:!0,children:"Tax"}),Object(be.jsxs)(ue.a,{item:!0,sm:!0,children:["$",j.taxPrice]})]})}),Object(be.jsx)(Je.a,{children:Object(be.jsxs)(ue.a,{container:!0,justify:"space-between",children:[Object(be.jsx)(ue.a,{item:!0,sm:!0,children:"Total"}),Object(be.jsxs)(ue.a,{item:!0,sm:!0,children:["$",j.totalPrice]})]})}),!j.isPaid&&Object(be.jsx)(Je.a,{style:{marginTop:"3rem"},children:Object(be.jsx)(he.a,{disabled:!0,variant:"contained",color:"primary",fullWidth:!0,children:"Pay"})}),O&&Object(be.jsx)(De,{}),f&&f.isAdmin&&!j.isDelivered&&Object(be.jsx)(Je.a,{children:Object(be.jsx)(he.a,{onClick:function(){l(function(e){return function(){var t=Object(Ee.a)(Se.a.mark((function t(n,r){var a,c,i,s,o,d;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:q.f}),a=r(),c=a.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.put("/api/orders/".concat(e._id,"/deliver"),{},i);case 6:s=t.sent,o=s.data,n({type:q.h,payload:o}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(Object(ke.e)()),n({type:q.e,payload:d});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(j))},variant:"contained",color:"secondary",fullWidth:!0,children:"Mark As Delivered"})})]})})})]})]})},qt=n(162),Mt=n(155),$t=n.n(Mt),Qt=n(107),Gt=n.n(Qt),Yt=Object(Oe.a)((function(e){return{checkColor:{color:"#158f34"},closeColor:{color:"#8f1529"}}})),Ht=function(e){var t=e.history,n=Yt(),a=Object(s.b)(),c=Object(s.c)((function(e){return e.userList})),i=c.loading,o=c.error,d=c.users,l=Object(s.c)((function(e){return e.userLogin})).userInfo,u=Object(s.c)((function(e){return e.userDelete})).success;Object(r.useEffect)((function(){l&&l.isAdmin?a(Object(ke.c)()):t.push("/login")}),[a,t,l,u]);return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(je.a,{variant:"h2",style:{marginLeft:"1rem"},children:"Users"}),i?Object(be.jsx)(De,{}):o?Object(be.jsx)(Ne,{severity:"error",children:o}):Object(be.jsx)(yt.a,{component:St.a,style:{margin:"1rem"},children:Object(be.jsxs)(gt.a,{className:n.table,"aria-label":"simple table",children:[Object(be.jsx)(vt.a,{children:Object(be.jsxs)(wt.a,{children:[Object(be.jsx)(xt.a,{align:"center",children:"ID"}),Object(be.jsx)(xt.a,{align:"center",children:"NAME"}),Object(be.jsx)(xt.a,{align:"center",children:"EMAIL"}),Object(be.jsx)(xt.a,{align:"center",children:"ADMIN"}),Object(be.jsx)(xt.a,{align:"center"})]})}),Object(be.jsx)(ft.a,{children:d.map((function(e){return Object(be.jsxs)(wt.a,{children:[Object(be.jsx)(xt.a,{align:"center",children:e._id}),Object(be.jsx)(xt.a,{align:"center",children:e.name}),Object(be.jsx)(xt.a,{align:"center",children:Object(be.jsx)(he.a,{style:{textTransform:"none"},component:"a",href:"mailto:".concat(e.email),rel:"noopener noreferrer",target:"_blank",children:e.email})}),Object(be.jsx)(xt.a,{align:"center",children:e.isAdmin?Object(be.jsx)($t.a,{classes:{root:n.checkColor}}):Object(be.jsx)(Ot.a,{classes:{root:n.closeColor}})}),Object(be.jsx)(xt.a,{align:"center",children:Object(be.jsxs)(qt.a,{"aria-label":"small outlined button group",children:[Object(be.jsx)(he.a,{variant:"contained",component:X.b,to:"/admin/user/".concat(e._id,"/edit"),children:Object(be.jsx)(Gt.a,{})}),Object(be.jsx)(he.a,{variant:"contained",color:"primary",onClick:function(){return t=e._id,void(window.confirm("Are you sure")&&a(Object(ke.a)(t)));var t},children:Object(be.jsx)(st.a,{})})]})})]},e._id)}))})]})})]})},Jt=n(314),Kt=Object(Oe.a)((function(e){var t;return{button:(t={marginBottom:"1rem"},Object(de.a)(t,e.breakpoints.down("md"),{marginTop:"1rem"}),Object(de.a)(t,e.breakpoints.down("sm"),{marginTop:"1rem"}),t),smallImage:{width:"100%",height:"100%",borderRadius:5,boxShadow:e.shadows[1]},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:e.spacing(1.5,1.5),backgroundColor:"#000",color:"#fff"},link:{color:"#000",textDecoration:"none"}}})),Xt=function(e){var t=e.match,n=e.history,a=Kt(),c=t.params.id,i=Object(r.useState)(""),o=Object(J.a)(i,2),d=o[0],l=o[1],u=Object(r.useState)(""),j=Object(J.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(!1),h=Object(J.a)(m,2),O=h[0],g=h[1],f=Object(s.b)(),x=Object(s.c)((function(e){return e.userDetails})),y=x.error,v=x.loading,w=x.user,S=Object(s.c)((function(e){return e.userUpdate})),E=S.error,I=S.loading,C=S.success;Object(r.useEffect)((function(){C?(f({type:V.y}),n.push("/admin/userlist")):w.name&&w._id===c?(l(w.name),p(w.email),g(w.isAdmin)):f(Object(ke.b)(c))}),[c,f,w,C,n]);return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(he.a,{component:X.b,to:"/admin/userlist",variant:"contained",className:a.button,children:"Go Back"}),Object(be.jsxs)(ut,{children:[Object(be.jsx)(je.a,{variant:"h1",align:"center",children:"Edit User"}),I&&Object(be.jsx)(De,{}),E&&Object(be.jsx)(Ve,{error:E}),v?Object(be.jsx)(De,{}):y?Object(be.jsx)(Ve,{error:y}):Object(be.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:d,onChange:function(e){return l(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:b,onChange:function(e){return p(e.target.value)}}),Object(be.jsx)(Pt.a,{control:Object(be.jsx)(Jt.a,{checked:O,onChange:function(e){return g(e.target.checked)},name:"Is Admin"}),label:"Is Admin"}),Object(be.jsx)(he.a,{type:"submit",onClick:function(e){e.preventDefault(),f(Object(ke.g)({_id:c,name:d,email:b,isAdmin:O}))},fullWidth:!0,variant:"contained",className:a.submit,children:"Update"})]})]})]})},Zt=n(156),en=n.n(Zt),tn=Object(Oe.a)((function(e){return{checkColor:{color:"#158f34"},closeColor:{color:"#8f1529"}}})),nn=function(e){var t=e.history,n=e.match,a=tn(),c=n.params.pageNumber||1,i=Object(s.b)(),o=Object(s.c)((function(e){return e.productList})),d=o.loading,l=o.error,u=o.products,j=o.page,b=o.pages,p=Object(s.c)((function(e){return e.productDelete})),m=p.loading,h=p.error,O=p.success,E=Object(s.c)((function(e){return e.productCreate})),I=E.loading,C=E.error,k=E.success,R=E.product,T=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){i({type:S}),T.isAdmin||t.push("/login"),k?t.push("/admin/product/".concat(R._id,"/edit")):i(Re("",c))}),[i,t,T,O,k,R,c]);var _=function(e){window.confirm("Are you sure")&&i(function(e){return function(){var t=Object(Ee.a)(Se.a.mark((function t(n,r){var a,c,i,s;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:g}),a=r(),c=a.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.delete("/api/products/".concat(e),i);case 6:n({type:f}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(s=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(Object(ke.e)()),n({type:x,payload:s});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))};return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(ue.a,{container:!0,justify:"space-around",alignItems:"center",style:{margin:"2rem 0"},children:[Object(be.jsx)(ue.a,{item:!0,children:Object(be.jsx)(je.a,{variant:"h2",children:"Products"})}),Object(be.jsx)(ue.a,{item:!0,children:Object(be.jsxs)(he.a,{variant:"outlined",style:{textTransform:"none"},onClick:function(){i(function(){var e=Object(Ee.a)(Se.a.mark((function e(t,n){var r,a,c,i,s,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:y}),r=n(),a=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,Ce.a.post("/api/products",{},c);case 6:i=e.sent,s=i.data,t({type:v,payload:s}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(ke.e)()),t({type:w,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())},children:[Object(be.jsx)(en.a,{style:{marginRight:"0.5rem"}})," Create Product"]})})]}),m&&Object(be.jsx)(De,{}),h&&Object(be.jsx)(Ne,{severity:"error",children:h}),I&&Object(be.jsx)(De,{}),C&&Object(be.jsx)(Ne,{severity:"error",children:C}),d?Object(be.jsx)(De,{}):l?Object(be.jsx)(Ne,{severity:"error",children:l}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(yt.a,{component:St.a,style:{margin:"1rem"},children:Object(be.jsxs)(gt.a,{className:a.table,"aria-label":"simple table",children:[Object(be.jsx)(vt.a,{children:Object(be.jsxs)(wt.a,{children:[Object(be.jsx)(xt.a,{align:"center",children:"ID"}),Object(be.jsx)(xt.a,{align:"center",children:"NAME"}),Object(be.jsx)(xt.a,{align:"center",children:"PRICE"}),Object(be.jsx)(xt.a,{align:"center",children:"CATEGORY"}),Object(be.jsx)(xt.a,{align:"center",children:"AUTHOR"}),Object(be.jsx)(xt.a,{align:"center"})]})}),Object(be.jsx)(ft.a,{children:u.map((function(e){return Object(be.jsxs)(wt.a,{children:[Object(be.jsx)(xt.a,{align:"center",children:e._id}),Object(be.jsx)(xt.a,{align:"center",children:e.name}),Object(be.jsxs)(xt.a,{align:"center",children:["$",e.price]}),Object(be.jsx)(xt.a,{align:"center",children:e.category}),Object(be.jsx)(xt.a,{align:"center",children:e.brand}),Object(be.jsx)(xt.a,{align:"center",children:Object(be.jsxs)(qt.a,{"aria-label":"small outlined button group",children:[Object(be.jsx)(he.a,{variant:"contained",component:X.b,to:"/admin/product/".concat(e._id,"/edit"),children:Object(be.jsx)(Gt.a,{})}),Object(be.jsx)(he.a,{variant:"contained",color:"primary",onClick:function(){return _(e._id)},children:Object(be.jsx)(st.a,{})})]})})]},e._id)}))})]})}),Object(be.jsx)(Pe,{pages:b,page:j,history:t,isAdmin:!0})]})]})},rn=n(157),an=n.n(rn),cn=Object(Oe.a)((function(e){var t;return{button:(t={marginBottom:"1rem"},Object(de.a)(t,e.breakpoints.down("md"),{marginTop:"1rem"}),Object(de.a)(t,e.breakpoints.down("sm"),{marginTop:"1rem"}),t),smallImage:{width:"100%",height:"100%",borderRadius:5,boxShadow:e.shadows[1]},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:e.spacing(1.5,1.5),backgroundColor:"#000",color:"#fff"},upload:{margin:e.spacing(3,0,2),padding:e.spacing(1.5,1.5)},link:{color:"#000",textDecoration:"none"},description:{border:"2px solid ".concat(e.palette.common.orange),marginTop:"2em",borderRadius:5}}})),sn=function(e){var t=e.match,n=e.history,a=cn(),c=t.params.id,i=Object(r.useState)(""),o=Object(J.a)(i,2),d=o[0],l=o[1],u=Object(r.useState)(0),j=Object(J.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(""),O=Object(J.a)(m,2),g=O[0],f=O[1],x=Object(r.useState)(""),y=Object(J.a)(x,2),v=y[0],w=y[1],S=Object(r.useState)(""),R=Object(J.a)(S,2),T=R[0],_=R[1],D=Object(r.useState)(0),A=Object(J.a)(D,2),P=A[0],U=A[1],L=Object(r.useState)(""),N=Object(J.a)(L,2),F=N[0],W=N[1],B=Object(r.useState)(!1),z=Object(J.a)(B,2),V=z[0],q=z[1],M=Object(r.useState)(!1),$=Object(J.a)(M,2),Q=$[0],G=$[1],Y=Object(s.b)(),H=Object(s.c)((function(e){return e.productDetails})),K=H.loading,Z=H.error,ee=H.product,te=Object(s.c)((function(e){return e.productUpdate})),ne=te.loading,re=te.error,ae=te.success;Object(r.useEffect)((function(){ae?(Y({type:k}),n.push("/admin/productlist")):ee.name&&ee._id===c?(l(ee.name),p(ee.price),f(ee.image),w(ee.brand),_(ee.category),U(ee.countInStock),W(ee.description)):Y(Te(c))}),[Y,n,c,ee,ae]);var ce=function(){var e=Object(Ee.a)(Se.a.mark((function e(t){var n,r,a,c,i;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(r=new FormData).append("image",n),q(!0),e.prev=4,a={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Ce.a.post("/api/upload",r,a);case 8:c=e.sent,i=c.data,f(i),q(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),G(!0),setTimeout((function(){G(!1)}),4e3),q(!1);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(he.a,{component:X.b,to:"/admin/productlist",variant:"contained",className:a.button,children:"Go Back"}),Object(be.jsxs)(ut,{children:[Object(be.jsx)(je.a,{variant:"h1",align:"center",children:"Edit Product"}),Q&&Object(be.jsx)(Ve,{error:"Invalid file"}),ne&&Object(be.jsx)(De,{}),re&&Object(be.jsx)(Ve,{error:re}),K?Object(be.jsx)(De,{}):Z?Object(be.jsx)(Ve,{error:Z}):Object(be.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:d,onChange:function(e){return l(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,type:"number",id:"price",label:"Price",name:"price",value:b,onChange:function(e){return p(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,id:"image",label:"Image URL",name:"image",value:g,onChange:function(e){return f(e.target.value)}}),Object(be.jsxs)(he.a,{component:"label",onChange:ce,fullWidth:!0,startIcon:Object(be.jsx)(an.a,{}),variant:"contained",color:"secondary",className:a.upload,children:[V?Object(be.jsx)(_e.a,{}):"Upload Image",Object(be.jsx)("input",{type:"file",hidden:!0})]}),Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,id:"brand",label:"Author",name:"brand",value:v,onChange:function(e){return w(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,id:"category",label:"Category",name:"category",value:T,onChange:function(e){return _(e.target.value)}}),Object(be.jsx)(Ze.a,{variant:"standard",margin:"normal",required:!0,fullWidth:!0,type:"number",id:"countInStock",label:"Count In Stock",name:"countInStock",value:P,onChange:function(e){return U(e.target.value)}}),Object(be.jsx)(Ze.a,{InputProps:{disableUnderline:!0},variant:"standard",margin:"normal",required:!0,multiline:!0,fullWidth:!0,rows:10,id:"description",label:"Description",name:"description",className:a.description,value:F,onChange:function(e){return W(e.target.value)}}),Object(be.jsx)(he.a,{type:"submit",onClick:function(e){e.preventDefault(),Y(function(e){return function(){var t=Object(Ee.a)(Se.a.mark((function t(n,r){var a,c,i,s,o,d;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:E}),a=r(),c=a.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.put("/api/products/".concat(e._id),e,i);case 6:s=t.sent,o=s.data,n({type:I,payload:o}),n({type:h,payload:o}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),"Not authorized, token failed"===(d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(Object(ke.e)()),n({type:C,payload:d});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}({_id:c,name:d,price:b,image:g,brand:v,category:T,description:F,countInStock:P}))},fullWidth:!0,variant:"contained",className:a.submit,children:"Update"})]})]})]})},on=Object(Oe.a)((function(e){return{checkColor:{color:"#158f34"},closeColor:{color:"#8f1529"}}})),dn=function(e){var t=e.history,n=on(),a=Object(s.b)(),c=Object(s.c)((function(e){return e.orderList})),i=c.loading,o=c.error,d=c.orders,l=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(r.useEffect)((function(){l&&l.isAdmin?a(function(){var e=Object(Ee.a)(Se.a.mark((function e(t,n){var r,a,c,i,s,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q.q}),r=n(),a=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,Ce.a.get("/api/orders",c);case 6:i=e.sent,s=i.data,t({type:q.r,payload:s}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(Object(ke.e)()),t({type:q.l,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,l]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(je.a,{variant:"h2",style:{marginLeft:"1rem"},children:"Orders"}),i?Object(be.jsx)(De,{}):o?Object(be.jsx)(Ne,{severity:"error",children:o}):Object(be.jsx)(yt.a,{component:St.a,style:{margin:"1rem"},children:Object(be.jsxs)(gt.a,{className:n.table,"aria-label":"simple table",children:[Object(be.jsx)(vt.a,{children:Object(be.jsxs)(wt.a,{children:[Object(be.jsx)(xt.a,{align:"center",children:"ID"}),Object(be.jsx)(xt.a,{align:"center",children:"USER"}),Object(be.jsx)(xt.a,{align:"center",children:"DATE"}),Object(be.jsx)(xt.a,{align:"center",children:"TOTAL"}),Object(be.jsx)(xt.a,{align:"center",children:"PAID"}),Object(be.jsx)(xt.a,{align:"center",children:"DELIVERED"}),Object(be.jsx)(xt.a,{align:"center"})]})}),Object(be.jsx)(ft.a,{children:d.map((function(e){return Object(be.jsxs)(wt.a,{children:[Object(be.jsx)(xt.a,{align:"center",children:e._id}),Object(be.jsx)(xt.a,{align:"center",children:e.user&&e.user.name}),Object(be.jsx)(xt.a,{align:"center",children:e.createdAt.substring(0,10)}),Object(be.jsxs)(xt.a,{align:"center",children:["$",e.totalPrice]}),Object(be.jsx)(xt.a,{align:"center",children:e.isPaid?e.paidAt.substring(0,10):Object(be.jsx)(Ot.a,{classes:{root:n.closeColor}})}),Object(be.jsx)(xt.a,{align:"center",children:e.isDelivered?e.deliveredAt.substring(0,10):Object(be.jsx)(Ot.a,{classes:{root:n.closeColor}})}),Object(be.jsx)(xt.a,{align:"center",children:Object(be.jsx)(he.a,{variant:"contained",component:X.b,to:"/order/".concat(e._id),children:"Details"})})]},e._id)}))})]})})]})},ln=function(){var e=Object(r.useState)(0),t=Object(J.a)(e,2),n=t[0],a=t[1];return Object(be.jsx)(K.a,{theme:ie,children:Object(be.jsxs)(X.a,{children:[Object(be.jsx)(oe.a,{value:n,setValue:a}),Object(be.jsx)("main",{style:{minHeight:"83.5vh"},children:Object(be.jsx)(se.a,{maxWidth:"lg",children:Object(be.jsxs)(Z.c,{children:[Object(be.jsx)(Z.a,{exact:!0,path:"/",render:function(e){return Object(be.jsx)(Ye,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/search/:keyword",render:function(e){return Object(be.jsx)(Ye,Object(u.a)(Object(u.a)({},e),{},{history:e.history,setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/page/:pageNumber",render:function(e){return Object(be.jsx)(Ye,Object(u.a)(Object(u.a)({},e),{},{history:e.history,setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/search/:keyword/page/:pageNumber",render:function(e){return Object(be.jsx)(Ye,Object(u.a)(Object(u.a)({},e),{},{history:e.history,setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/product/:id",render:function(e){return Object(be.jsx)(ct,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/login",render:function(e){return Object(be.jsx)(bt,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/register",render:function(e){return Object(be.jsx)(mt,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/profile",render:function(e){return Object(be.jsx)(It,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/shipping",render:function(e){return Object(be.jsx)(At,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/payment",render:function(e){return Object(be.jsx)(Ft,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/placeorder",render:function(e){return Object(be.jsx)(Bt,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/order/:id",render:function(e){return Object(be.jsx)(Vt,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/cart/:id?",render:function(e){return Object(be.jsx)(lt,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/admin/userlist",render:function(e){return Object(be.jsx)(Ht,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{exact:!0,path:"/admin/productlist",render:function(e){return Object(be.jsx)(nn,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{exact:!0,path:"/admin/productlist/:pageNumber",render:function(e){return Object(be.jsx)(nn,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/admin/orderlist",render:function(e){return Object(be.jsx)(dn,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/admin/user/:id/edit",render:function(e){return Object(be.jsx)(Xt,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}}),Object(be.jsx)(Z.a,{path:"/admin/product/:id/edit",render:function(e){return Object(be.jsx)(sn,Object(u.a)(Object(u.a)({},e),{},{setValue:a}))}})]})})}),Object(be.jsx)(me,{})]})})},un=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,320)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(be.jsx)(s.a,{store:H,children:Object(be.jsx)(ln,{})}),document.getElementById("root")),un()}},[[225,1,2]]]);
//# sourceMappingURL=main.ebe012a9.chunk.js.map